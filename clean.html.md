# cleaner


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/polsci/textplumber/blob/main/textplumber/clean.py#L13"
target="_blank" style="float:right; font-size:smaller">source</a>

### TextCleaner

>  TextCleaner (character_replacements:dict=None, remove_html:bool=False,
>                   strip_whitespace:bool=False,
>                   normalize_whitespace:bool=False)

*A component for a Sci-kit learn pipeline to clean clean text data,
including normalizing characters and whitespace, stripping whitespace
before and after text, and removing html tags, .*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>character_replacements</td>
<td>dict</td>
<td>None</td>
<td>character replacements for character normalization - a dict with key
as the character to replace and value as the replacement character</td>
</tr>
<tr>
<td>remove_html</td>
<td>bool</td>
<td>False</td>
<td>whether to remove html tags</td>
</tr>
<tr>
<td>strip_whitespace</td>
<td>bool</td>
<td>False</td>
<td>whether to remove whitespace from the start and end of the text</td>
</tr>
<tr>
<td>normalize_whitespace</td>
<td>bool</td>
<td>False</td>
<td>whether to replace one or more whitespace characters with a single
space</td>
</tr>
</tbody>
</table>

Here’s an example that removes html, strips and normalizes whitespace
and normalizes single quotes.

Only apply what makes sense for your use case.

Note: The character_replacement dictionary is used to specify
single-character replacements. This will raise a ValueError if the input
strings are longer than 1 character.

``` python
documents = [
    "<p>Some text with <b>html</b> tags</p>",
    "Some text with      extra whitespace",
    "Some text with ‘single quotes’",
    "Some text with  \t a tab character",
    "   Some text with whitespace before and after the text  \n ",
]

character_replacements ={
    "‘": "'",
    "’": "'",
}

text_cleaner = TextCleaner(
    character_replacements=character_replacements,
    remove_html=True,
    strip_whitespace=True,
    normalize_whitespace=True,
)
cleaned_documents = text_cleaner.fit_transform(documents)

for i, doc in enumerate(cleaned_documents):
    print(f"Original: {documents[i]}")
    print(f"Cleaned: {doc}")
    print()
```

    Original: <p>Some text with <b>html</b> tags</p>
    Cleaned: Some text with html tags

    Original: Some text with      extra whitespace
    Cleaned: Some text with extra whitespace

    Original: Some text with ‘single quotes’
    Cleaned: Some text with 'single quotes'

    Original: Some text with     a tab character
    Cleaned: Some text with a tab character

    Original:    Some text with whitespace before and after the text  
     
    Cleaned: Some text with whitespace before and after the text
